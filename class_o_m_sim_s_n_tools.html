<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OMSim: OMSimSNTools Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/icecube/OMSim" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logotest.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OMSim
   </div>
   <div id="projectbrief">Geant4 for IceCube optical module studies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_o_m_sim_s_n_tools.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_o_m_sim_s_n_tools-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OMSimSNTools Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides utility methods for generating ENES and IBD interactions.  
 <a href="class_o_m_sim_s_n_tools.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class serves as a repository for common functionalities associated with the generation of ENES and IBD interactions within the Supernova (SN) context. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab44ce4494361d6352987b74c252af450"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#ab44ce4494361d6352987b74c252af450">OMSimSNTools</a> ()</td></tr>
<tr class="memdesc:ab44ce4494361d6352987b74c252af450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="class_o_m_sim_s_n_tools.html#ab44ce4494361d6352987b74c252af450">More...</a><br /></td></tr>
<tr class="separator:ab44ce4494361d6352987b74c252af450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8369c8d49524201977f48fa5eb20f48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#aa8369c8d49524201977f48fa5eb20f48">~OMSimSNTools</a> ()</td></tr>
<tr class="memdesc:aa8369c8d49524201977f48fa5eb20f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="class_o_m_sim_s_n_tools.html#aa8369c8d49524201977f48fa5eb20f48">More...</a><br /></td></tr>
<tr class="separator:aa8369c8d49524201977f48fa5eb20f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8255809ee573ea08fa892441b32e48b8"><td class="memItemLeft" align="right" valign="top">G4ThreeVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a8255809ee573ea08fa892441b32e48b8">RandomPosition</a> ()</td></tr>
<tr class="memdesc:a8255809ee573ea08fa892441b32e48b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly determines a vertex position within the generation volume.  <a href="class_o_m_sim_s_n_tools.html#a8255809ee573ea08fa892441b32e48b8">More...</a><br /></td></tr>
<tr class="separator:a8255809ee573ea08fa892441b32e48b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a22f20d0aff91704cf6cab1b48d266"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a89a22f20d0aff91704cf6cab1b48d266">getFileNames</a> (int value)</td></tr>
<tr class="memdesc:a89a22f20d0aff91704cf6cab1b48d266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves file names for neutrino and antineutrino fluxes based on a specified supernova model.  <a href="class_o_m_sim_s_n_tools.html#a89a22f20d0aff91704cf6cab1b48d266">More...</a><br /></td></tr>
<tr class="separator:a89a22f20d0aff91704cf6cab1b48d266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2197f87f712d54eff8e93b233e8478"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#acd2197f87f712d54eff8e93b233e8478">InverseCumul</a> (std::vector&lt; G4double &gt; xvals, std::vector&lt; G4double &gt; yvals, G4int nPoints)</td></tr>
<tr class="memdesc:acd2197f87f712d54eff8e93b233e8478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples a value from a given distribution using the Inverse CDF method.  <a href="class_o_m_sim_s_n_tools.html#acd2197f87f712d54eff8e93b233e8478">More...</a><br /></td></tr>
<tr class="separator:acd2197f87f712d54eff8e93b233e8478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296fba8cceca9892ab52ac9e18064b01"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a296fba8cceca9892ab52ac9e18064b01">InverseCumulAlgorithm</a> (std::vector&lt; G4double &gt; x, std::vector&lt; G4double &gt; f, std::vector&lt; G4double &gt; a, std::vector&lt; G4double &gt; Fc, G4int nPoints)</td></tr>
<tr class="memdesc:a296fba8cceca9892ab52ac9e18064b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples values from a given distribution using the Inverse CDF algorithm.  <a href="class_o_m_sim_s_n_tools.html#a296fba8cceca9892ab52ac9e18064b01">More...</a><br /></td></tr>
<tr class="separator:a296fba8cceca9892ab52ac9e18064b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa760cb3204e636696ce5be962409694e"><td class="memItemLeft" align="right" valign="top">G4int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#aa760cb3204e636696ce5be962409694e">findtime</a> (G4double time, std::vector&lt; G4double &gt; timearray)</td></tr>
<tr class="memdesc:aa760cb3204e636696ce5be962409694e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the nearest (or next largest) value in an array to a specified input.  <a href="class_o_m_sim_s_n_tools.html#aa760cb3204e636696ce5be962409694e">More...</a><br /></td></tr>
<tr class="separator:aa760cb3204e636696ce5be962409694e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ca341f8db1a172ec0630b9facb23de"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a19ca341f8db1a172ec0630b9facb23de">EnergyDistribution</a> (G4double Emean, G4double Emean2, G4double &amp;alpha)</td></tr>
<tr class="memdesc:a19ca341f8db1a172ec0630b9facb23de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the energy value using the inverse cumulative algorithm based on a given distribution.  <a href="class_o_m_sim_s_n_tools.html#a19ca341f8db1a172ec0630b9facb23de">More...</a><br /></td></tr>
<tr class="separator:a19ca341f8db1a172ec0630b9facb23de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18c66c8764e66d08cc238979e062be3"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#aa18c66c8764e66d08cc238979e062be3">linealinterpolation</a> (G4double x, G4double x1, G4double x2, G4double y1, G4double y2)</td></tr>
<tr class="memdesc:aa18c66c8764e66d08cc238979e062be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs linear interpolation between two points.  <a href="class_o_m_sim_s_n_tools.html#aa18c66c8764e66d08cc238979e062be3">More...</a><br /></td></tr>
<tr class="separator:aa18c66c8764e66d08cc238979e062be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6baa149b4760c70e508b802e140fd9"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a0d6baa149b4760c70e508b802e140fd9">GetAlpha</a> (G4double Emean, G4double Emean2)</td></tr>
<tr class="memdesc:a0d6baa149b4760c70e508b802e140fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates pinching parameter of energy spectrum.  <a href="class_o_m_sim_s_n_tools.html#a0d6baa149b4760c70e508b802e140fd9">More...</a><br /></td></tr>
<tr class="separator:a0d6baa149b4760c70e508b802e140fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877d8502b2e5ac2c4ef03ba51860ba35"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a877d8502b2e5ac2c4ef03ba51860ba35">WeighMe</a> (G4double sigma, G4double NTargets)</td></tr>
<tr class="memdesc:a877d8502b2e5ac2c4ef03ba51860ba35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the interaction weight based on the cross section and number of targets.  <a href="class_o_m_sim_s_n_tools.html#a877d8502b2e5ac2c4ef03ba51860ba35">More...</a><br /></td></tr>
<tr class="separator:a877d8502b2e5ac2c4ef03ba51860ba35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aeb66b9f28c43977a2741d62bd1cbd83c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#aeb66b9f28c43977a2741d62bd1cbd83c">CheckVolumeFormDOMs</a> (G4ThreeVector position)</td></tr>
<tr class="memdesc:aeb66b9f28c43977a2741d62bd1cbd83c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a given position is within any of the modules.  <a href="class_o_m_sim_s_n_tools.html#aeb66b9f28c43977a2741d62bd1cbd83c">More...</a><br /></td></tr>
<tr class="separator:aeb66b9f28c43977a2741d62bd1cbd83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9b417d3b2e85de4f1b20e09497a63922"><td class="memItemLeft" align="right" valign="top">std::vector&lt; G4double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#a9b417d3b2e85de4f1b20e09497a63922">mdompos</a></td></tr>
<tr class="separator:a9b417d3b2e85de4f1b20e09497a63922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af908be289d086253893f327f7463d793"><td class="memItemLeft" align="right" valign="top">G4double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_sim_s_n_tools.html#af908be289d086253893f327f7463d793">Rmin</a></td></tr>
<tr class="separator:af908be289d086253893f327f7463d793"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab44ce4494361d6352987b74c252af450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44ce4494361d6352987b74c252af450">&#9670;&nbsp;</a></span>OMSimSNTools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OMSimSNTools::OMSimSNTools </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8369c8d49524201977f48fa5eb20f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8369c8d49524201977f48fa5eb20f48">&#9670;&nbsp;</a></span>~OMSimSNTools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OMSimSNTools::~OMSimSNTools </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeb66b9f28c43977a2741d62bd1cbd83c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb66b9f28c43977a2741d62bd1cbd83c">&#9670;&nbsp;</a></span>CheckVolumeFormDOMs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool OMSimSNTools::CheckVolumeFormDOMs </td>
          <td>(</td>
          <td class="paramtype">G4ThreeVector&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method determines whether the provided position lies in the generation medium (ice) It evaluates the position in the context of the global environment and examines the history depth to make this determination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>The 3D position vector to be checked against module boundaries. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This relies on the generation module being a single volume (generally, the ice) and the mother volume of everything else If the ice is modified to be composed of different subvolumes (like, for example, if the bubble column is added) this method would need to be modify!</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>True if the position is inside a module; otherwise, false. </dd></dl>

</div>
</div>
<a id="a19ca341f8db1a172ec0630b9facb23de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ca341f8db1a172ec0630b9facb23de">&#9670;&nbsp;</a></span>EnergyDistribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::EnergyDistribution </td>
          <td>(</td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>Emean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>Emean2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double &amp;&#160;</td>
          <td class="paramname"><em>alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Build the energy distribution Fe(E) given the input parameters, and uses the inverse CDF algorithm to sample a value for the neutrino energy from Fe(E). The method prepares the data to use 'MakeEnergyDistribution'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Emean</td><td>The primary mean energy value from the supernova model. </td></tr>
    <tr><td class="paramname">Emean2</td><td>The primary squared mean energy value from the supernova model. </td></tr>
    <tr><td class="paramname">alpha</td><td>Pinching parameter of the energy spectrum. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The sampled energy value based on the given model. </dd></dl>

</div>
</div>
<a id="aa760cb3204e636696ce5be962409694e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa760cb3204e636696ce5be962409694e">&#9670;&nbsp;</a></span>findtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4int OMSimSNTools::findtime </td>
          <td>(</td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>timearray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method is utilized to identify neutrino parameters corresponding to a randomly sampled time. These identified parameters are subsequently interpolated to ensure that the model doesn't rely solely on fixed tabulated values from the input neutrino model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The reference value for which a close match is sought in the array. </td></tr>
    <tr><td class="paramname">timearray</td><td>The array in which to search for the closest match. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Consider renaming 'time' to a more generic term. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The index in the array that holds the value closest (or next largest) to the specified input. </dd></dl>

</div>
</div>
<a id="a0d6baa149b4760c70e508b802e140fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6baa149b4760c70e508b802e140fd9">&#9670;&nbsp;</a></span>GetAlpha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::GetAlpha </td>
          <td>(</td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>Emean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>Emean2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given the mean energy and squared mean energy of the neutrino event, calculates the pinching parameter following equation 3 in Irene Tamborra et al., "High-resolution supernova neutrino spectra represented by a simple fit," PHYSICAL REVIEW D 86, 125031 (2012). <a href="https://arxiv.org/abs/1211.3920">https://arxiv.org/abs/1211.3920</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Emean</td><td>The primary mean energy value from the supernova model. </td></tr>
    <tr><td class="paramname">Emean2</td><td>The primary squared mean energy value from the supernova model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>alpha Pinching parameter of the energy spectrum. </dd></dl>

</div>
</div>
<a id="a89a22f20d0aff91704cf6cab1b48d266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a22f20d0aff91704cf6cab1b48d266">&#9670;&nbsp;</a></span>getFileNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::string, std::string &gt; OMSimSNTools::getFileNames </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function provides the corresponding file names for neutrino and antineutrino fluxes depending on the supernova model identified by the input value. Files are located in "supernova/models"</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The integer identifier representing a specific supernova model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>Handle error cases more robustly than just console output. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A pair containing the neutrino and antineutrino flux file names. </dd></dl>

</div>
</div>
<a id="acd2197f87f712d54eff8e93b233e8478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2197f87f712d54eff8e93b233e8478">&#9670;&nbsp;</a></span>InverseCumul()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::InverseCumul </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>xvals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>yvals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4int&#160;</td>
          <td class="paramname"><em>nPoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method preprocesses the provided data and leverages the inverse cumulative distribution function (Inverse CDF) to obtain samples from a specified distribution. It facilitates the generation of random values that adhere to the characteristics of the given distribution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xvals</td><td>The x values representing the domain of the distribution. </td></tr>
    <tr><td class="paramname">yvals</td><td>The corresponding y values representing the distribution's actual values. </td></tr>
    <tr><td class="paramname">nPoints</td><td>The number of data points in the distribution. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>Reconsider the requirement for the 'nPoints' parameter. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Assumes that the generation volume is a cylinder! </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A randomly chosen x-value that's sampled based on the distribution's profile. </dd></dl>

</div>
</div>
<a id="a296fba8cceca9892ab52ac9e18064b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296fba8cceca9892ab52ac9e18064b01">&#9670;&nbsp;</a></span>InverseCumulAlgorithm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::InverseCumulAlgorithm </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; G4double &gt;&#160;</td>
          <td class="paramname"><em>Fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4int&#160;</td>
          <td class="paramname"><em>nPoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method employs the inverse cumulative distribution function (Inverse CDF) technique to derive samples from a specified distribution. It's useful for generating random values in accordance with the underlying distribution shape.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The x values representing the distribution's domain. </td></tr>
    <tr><td class="paramname">f</td><td>The corresponding y values, or f(x), representing the distribution's values. </td></tr>
    <tr><td class="paramname">Fc</td><td>The slopes of the f(x) curve, usually derived from the GetSlopes method. </td></tr>
    <tr><td class="paramname">Fc</td><td>The cumulative values of f(x), usually derived from the GetSlopes method. </td></tr>
    <tr><td class="paramname">nPoints</td><td>The length or number of data points in the distribution. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Re-evaluate the necessity of the 'nPoints' parameter. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A randomly selected x-value sampled in line with the provided distribution. </dd></dl>

</div>
</div>
<a id="aa18c66c8764e66d08cc238979e062be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18c66c8764e66d08cc238979e062be3">&#9670;&nbsp;</a></span>linealinterpolation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::linealinterpolation </td>
          <td>(</td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method calculates the y-value for a given x-value based on linear interpolation between two known data points (x1, y1) and (x2, y2).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The x-value for which the y-value is desired. </td></tr>
    <tr><td class="paramname">x1</td><td>The x-value of the first data point. </td></tr>
    <tr><td class="paramname">x2</td><td>The x-value of the second data point. </td></tr>
    <tr><td class="paramname">y1</td><td>The y-value corresponding to x1. </td></tr>
    <tr><td class="paramname">y2</td><td>The y-value corresponding to x2. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The interpolated y-value for the given x based on the two provided data points. </dd></dl>

</div>
</div>
<a id="a8255809ee573ea08fa892441b32e48b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8255809ee573ea08fa892441b32e48b8">&#9670;&nbsp;</a></span>RandomPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4ThreeVector OMSimSNTools::RandomPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The vertex is considered valid only if it is located within the ice, ensuring it is not situated inside the module or other predefined volumes.</p>
<dl class="section return"><dt>Returns</dt><dd>A valid vertex position within the ice. </dd></dl>

</div>
</div>
<a id="a877d8502b2e5ac2c4ef03ba51860ba35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a877d8502b2e5ac2c4ef03ba51860ba35">&#9670;&nbsp;</a></span>WeighMe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::WeighMe </td>
          <td>(</td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>sigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G4double&#160;</td>
          <td class="paramname"><em>NTargets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method computes the interaction weight of neutrinos in the ice using the formula: <code>weight = sigma * Nt * r</code>, where:</p><ul>
<li><code>sigma</code> is the cross section,</li>
<li><code>Nt</code> is the number of targets in the ice (considered as electrons),</li>
<li><code>r</code> is the distance the neutrino travels in the ice.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sigma</td><td>The cross section value. </td></tr>
    <tr><td class="paramname">NTargets</td><td>The number of targets present in the ice for the corresponding interaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>It's crucial to note that this formulation is specifically valid for SN neutrinos approaching from the Z axis in a world defined as a cylinder. For any other geometry or conditions, a different approach or adjustments might be required. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The computed interaction weight for the neutrinos based on the provided parameters. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b417d3b2e85de4f1b20e09497a63922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b417d3b2e85de4f1b20e09497a63922">&#9670;&nbsp;</a></span>mdompos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;G4double&gt; OMSimSNTools::mdompos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af908be289d086253893f327f7463d793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af908be289d086253893f327f7463d793">&#9670;&nbsp;</a></span>Rmin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">G4double OMSimSNTools::Rmin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_o_m_sim_s_n_tools_8hh_source.html">OMSimSNTools.hh</a></li>
<li><a class="el" href="_o_m_sim_s_n_tools_8cc.html">OMSimSNTools.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_o_m_sim_s_n_tools.html">OMSimSNTools</a></li>
    <li class="footer">Generated on Fri Sep 29 2023 14:14:34 for OMSim by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
